# Date: 03/22  

# Spring:  
기본은 결국 자바&서블렛. 자바와 서블렛에 실력이 있어야 사용이 가능해진다. 프레임워크의 단점: 많은 용량을 기본적으로 가져간다. 기본적으로 챙기는 라이브러리가 많기에 그렇다. Pojo(Plain Old Java Object)기반  
보통 스프링+마이바티스 를 사용하거나 아니면 스프링 부트+JPA를 기본으로 가져간다.  


## DI (Dependency Injection):  
기존의 디자인 패턴에서의 IOC(Inversion Of Control). 자바에서 생성시의 붙여야 하는 new는 스프링 입장에서의 DI인 샘이다.  
스프링에선 생성을 new 를 이용해 하는것이 아닌, 생성자/getter등으로 생성하는게 일반적.  
new로 생성하는 것이 아닌 Spring 설정파일에서 DI 해주는 방식이 의존성을 줄일수 있다. ==> 이는 Loose Coupling 을 지향하는 방식이다.  
Loose Coupling을 시키기 편해진다. 이는 유지와 보수에 있어 이점을 가진다.  
  * https://hongjinhyeon.tistory.com/141   

일반적인 자바에서 인터페이스를 구현하여 만드는 방식과 스프링을 적극활용하여 인터페이스를 구성한뒤 구현할떄의 차이:  

스프링 사용시 서블렛 컨텍스트 파일과 루트 컨텍스트 파일에 빈을 잘 설정해두자.  
  * id의 값은 변수명 생성 규칙과 동일하다. 처음에 띄어쓰기 안댐, 특수문자 안댐, 소문자로!!
  * name의 경우는 훨씬 더 유연한 규칙을 가진다.  
  * 스프링의 bean은 기본적으로 싱글톤이다. 그렇기에 스프링 실행과 동시에 생성된다.  
    * 물론 이는 설정을 바꿈으로 생성되지 않게 만들수도 있다.  컨텍스트 데이터에 lazy-init을 참으로 설정하면 가능하다  


스프링 4가 현업에서 대새. 그렇기에 어노테이션을 활용하는 법을 잘 공부해두자.  

스프링 빈생성시에 설정 가능한 속성:   
  * init-method = "빈 생성시 실행할 초기화 메소드 지정"   
  * destroy-method = "빈이 소멸시 자동 호출되는 메소드 지정"  
  * lazy-init = "빈이 사용될때 빈을 생성"   
  * scope = "싱글톤으로 생성할지의 여부" ==> scope = "singletone/prototype" 싱글톤이냐 아니냐  


Setter를 이용한 DI 방법:  property name="speaker" ref="???"  
생성자를 이용한 DI 방법: constructor-arg ref="???"  

parameter가 2개인 생성자를 통한 DI는 어떻게 사용해야 할까?  
  * ==> 생성자를 이용하는 경우 그냥 constructor-arg를 하나 더 추가하면 댄다!! 이지!!

강사님 의견에는 생성자를 이용하는 쪽이 조금 더 간편하다 생각하시는 것 같다.. 아직은 확 와닫는 부분은 아닌듯. 

name-space settings:
 * add an attrubute: 
   * p:name: "???"
   * p: ???-ref: "???" ==> ??? must match in type

위의 세가지 방법이 기본적으로 스프링에서 빈을 이용 값을 넘기는 방법중 하나이다. 그러나 이는 어노테이션을 이용하는 요즘 방법보단 조금 할게 많다!! 요즘은 전부 어노테이션으로 빼서 사용하는게 일반적이다. 그러므로 스프링 부트가 더 선호 되는 듯  

Annotaion방법에서의 2가지 DI 방법 (이외에도 더 있다! 기본적으로는 Auto-wired가 이미 있는거라 그걸 쓰는 듯 하다.):
1. Auto-wired ==> 스프링이 기본적으로 제공. 그냥 받고 싶은 클래스에 @Component 지정해 주고 받아 쓰는 클래스에 @Auto-wired 해서 사용 가능!  
2. Inject ==> 유저가 라이브러리를 임포트 해줘야 한다.  
  * 원래는 아니였는데 요즘은 그냥 자동으로 임포트 해주는거 같다!!  스프링 짱짱
  * 이쪽이 좀 더 가벼워서 장점이 있는 듯 하다.  
  * 기능면에서는 Resource가 가장 좋은 듯 하다!! 




## Spring MVC:  
root-context.xml ==> Java 영역의 설정  
servlet-context.xml ==> web 관련 영역 설정  



