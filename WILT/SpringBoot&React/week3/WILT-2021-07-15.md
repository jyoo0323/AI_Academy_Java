# Date: 07/15

## 어제 했던 내용:
이용시 무한렌더링 발생이유. 제 렌더링을 하면 비동기 함수를 다시 부르게 되고 다시 부르면 다시 재렌더링을 하기 때문이다. ==> useEffect로 어떤 객체가 변경되었을때만 발동하게 만들 수 있다.   


## Redux
리덕스가 없어도 개발은 충분히 가능하다. 다만, 사용하면 편리한 경우가 있을 뿐이다(그러니까 사용을 하는게 이득인 경우가 많다.)  
게시판의 데이터는 상태를 유지할 데이터가 아니다.  


## 게시글 등록을 했으면 게시글 목록을 갱신해 줘야한다. 
댓글도 같은 처리가 필요한 부분이니 잘 보도록 하자.  
#### 현재(07/15 오전, 등록하는 부분까지만 완성함, 아직 등록후 1번 페이지로 이동 안됨.) 컴포넌트의 구조:
TodoBoard 상위 컴포넌트 
|                                     |
리스트                               등록   

이 구조에서 등록후 페이지 이동을 해경하는 꼼수:  

1. 이 구조에서는 리스트의 props를 등록으로 보내기 힘들기에,  등록을 리스트에 내려서 해결할 수 있다.
  즉, TodoBoard ==> TodoList ==> TodoInput으로 내려가는 순으로 만드는 것이다.    
  ==> 원래 생각한 구조와 달라진다. 등록이 리스트에 종속되어 버린다.   
  ==> 이 방식의 문제는 의미없는 렌더링이 늘어난다는 점이다. 그렇기에 2번의 방법이 더 선호된다.  
  
2. todoService를 이용해 함수를 주고 받는 식으로 구현하는 방법. 
  이 방법은 따로 연습해 보도록 하자.  
  
## 상세조회:
방법 1. 특정 todo를 클릭하면 tno를 알아내어 서버에 호출 후 todo obj 를 받아서 화면에 전달한다.  

방법 2. todo목록에서 하나하나 리스트 마다 태그를 걸어서 prop로 tno를 내려주고 해당 컴포넌트(TodoRead)에서 useEffect로 axios를 호출해서 값을 가져오는 방식.  

## Redux:
하나의 컴포넌트가 가진 기능을 다른 여러 컴포넌트에서 사용해야 하는데 가지고 있는 컴포넌트가 최상단 컴포넌트 일수 없는 상황일때, 이를 편하게 관리하기 위해 나온게 리덕스이다.   

컴포넌트의 상태 관리 라이브러리. 스토어에 상태를 저장해 변화를 감지하면 그 바뀐 상태를 공유하는 다른 컴포넌트에도 dispatch를 이용해 업데이트하라는 메세지를 보내고 그걸  useSelector를 이용해 빋아서 처리한다.        
우리나라의 리덕스 예제는 대부분 리덕스의 나쁜 예제라 할수 있다.    

useReducer란?  
상태 업데이트 로직 분리할때 사용할수 있는 개념이다.  

What we need:
1. store - 공유되는 자원의 저장공간/ 하나의 App은 하나의 스토어만 사용.     
2. Action - 상태의 변화를 전달하는 메세지  
3. Reducer - 순수한 함수로 Store가 유지해야하는 데이터를 반환하도록 구성한다.  
Reducer의 순수한 함수라는 말을 잘 이해해야한다. reducer는 이전의 상태와 메세지(Action) 을 받아서 앞으로 유지해야하는 상태를 반환한다.  

인터넷에 액션을 만드는 함수를 이용하는 경우가 많은데 그럴 필요는 없다. 어차피 그냥 보낼 대상이기 때문.  

Store는 Context와 비슷한 개념이라고 생각하면 좋을 듯 하다...   

리덕스는 여전히 비동기 처리에 문제가 있기 때문에 promise나 then 처리를 해줘야 하는데 이는 귀찮은 작업이기에 우리는 Redux Toolkit을 쓴다!  
이러한 문제는 미들웨어를 이용해 해결가능하다. 대표적인 예제는 thunk라던지 saga가 있다. 이 미들웨어들 중 thunk는 이미 toolkit에 포함되어 있다.   

zustand라는 친구가 있는데 이친구를 이용하면 redux를 사용하는게 더 쉬워진다 한다.  

하지만 공식적으로 채택된건 toolkit이고, 그렇기에 우리는 바로 toolkit으로 간드아.  


