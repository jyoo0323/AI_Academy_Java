# Date: 07/16

## 리덕스 복습:
스토어가 라면 창고이고, 창고에 사발면류, 비빔면류, 일반류가 있다면 각각 종류를 관리하는게 리듀서의 역할이다.  
3대원칙:  
스토어는 하나만 있어야 한다!!  
리듀서는 순수한 함수여야한다!  

## Redux Toolkit의 비동기 처리:
옛날 리덕스에선 디스패쳐로 보내는 액션은 항상 명사였다.  

## Redux thunk:
듣도보도 못한 끔찍한 문법이 나온다: store => next => action.  
저 문장의 의미는 함수안의 함수를 가져온다는 뜻인데, 큰 함수 store라는 함수는 next라는 함수를 리턴하고 next라는 함수는 action이라는 함수를 리턴한다는 의미이다.  

저런 끔찍한 문법을 따를 필요없이 createAsyncThunk라는 redux toolkit의 강력한 기능을 사용할 것이다.  
이렇게 만들어진 애들을 관리하는 리듀서가 slice의 extraReducer이다.  

type:  
pending: 아직 비동기 처리가 끝나지 않았을 때 실행시키는 함수 (로딩 등)  
fulfilled: 저리가 끝났을때 값을 가져왔을때 실행하는 함수  
rejected: 처리가 실패했을때 실행하는 함수.  

## 고차함수:
함수인데 함수를 감싸는 함수.  

## 리덕스 남용에 의한 잘못된 설계
리덕스는 엄청 간편하고 강력한 기능이지만, 남용하면 문제가 크다.  
등록 개념마저 리덕스에서 관리하기 시작하면 점점 initState에 감당할수 없는 양의 데이터가 들어가게 되고, 이는 비동기로 통신되는 데이터가 하나의 스테이트에서 관리가 되어야 하는데 이러다보면   
리덕스에 정의되야하는 initState가 너무 방대해진다. 이는 굳이 동네 마실나가는데 비행기 타고 가겠다는 격이 되어버린다.  

이에 대한 해결책이랍시고 슬라이스를 조금씩 나누려 하는데 이 또한 문제가 있다. 이렇게되면 매 상태마다 슬라이스를 만들고 관리해야하는데 이럴 이유가 없다.. 특히나 자주 상태가 바뀌지 않는 경우에는 더더욱 그렇다.    

또 유지에 필요한 메모리 손실이다. 이는 성능 저하를 불러 일으킬 것이다.  
또한 한번 불렀다가 이후에 다시 불러야만 하는 정보(게시글 목록 등)는 들고 다닐 가치가 아예 없다. 어차피 최신화를 위해 다시 불러야 하기에 그럴거면 뭐하러 이걸 저장해 다니나 생각이 든다.  

## 리덕스를 사용하는 기준:
강사님의 기준이다! 정답은 아닐수도 있다.  

1. 서버의 데이터를 스냅샷하지 말자.
  => 계속 데이터가 바뀌는 친구들은 리덕스로 관리하지 말자.   
  ==> 이러한 친구들은 useEffect를 이용해 갱신하는 방향으로 구현하자.  
2. 상태가 다양한 대상에 대해서도 쓰지말자.  
  => 너무 많은 상태를 initState에 넣는걸 피하자.  
3. 상태 데이터가 단순하고 고정적인 대상에 대해 쓰도록 하자.  
4. 자주 바뀌지 않는 값에 대해 쓰도록하자.   

이러한 규칙들을 다 만족하는 정보 ==> 현재 로그인한 사용자의 정보.  

또 다른 예시로는 페이지 정보, 키워드, 검색타입 등이 있다. 예를 들어 3번 페이지의 글을 보다 상세보기를 눌러 보고있다 다시 목록가기를 눌러 목록으로 돌아갔을 때, 내가 검색한 키워드, 페이지, 검색타입등을 유지해야만 한다. 이러한 상황에도 리덕스를 활용하면 유용하게 사용이 가능할 것이다.  



## Java의 데코레이터 패턴:
대표적 예시 InputStream.  
하나를 읽을 수 있는데 다른 하나는 못하는 애들을 계속 연동해서 합체하듯 사용하는 함수 패턴.  
합체 로봇마냥 혼자는 약하지만 함꺠 사용해서 강해지는? 친구들이다.  

### 포스트 자바는 무엇이 될까?
자바가지곤 한계가 있다는게 강사님 의견.  
개인적으론 파이썬. 강사님 생각엔 go나 rust. 그리고 요즘 핫한 노드 정도. 근데 노드는 노드만드는 개발자가 나가버렸다.. 그래서 go나 rust를 선호하시는 듯.  



