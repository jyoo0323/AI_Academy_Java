# Date: 06/30

## DB 설계:
  * 한국의 특징:
  * 회원이 중심이 되어 모든 기능이 설계된다.  
  * 문제점 ====> MSA!
    * MSA는 서비스를 쪼갠다, 즉 하나의 기능을 담당하는 서버가 각각의 디비를 가질수도 있다. 그렇다면 유저를 기준으로 설계할시 문제가 된다.  


###### 게시판 + 댓글 구조:
연관관계를 짤때 디비를 기준으로 만들어라.  
pk fk 관계만 따지자. ==> 이를 바탕으로 관계를 만들자.   

JOA가 결과적으로 추구하는것 ==> 디비와의 동기화. 
===> 그렇기 때문에 디비를 기준으로 짜는게 정말 중요하다.  

### FK를 기준으로 관계를 생각해서 만들자.  
즉 게시글이 아니라 댓글을 기준으로 단방향으로 만드는 것이 훨씬 유리하기 때문이다.  

#### 강사님의 추천에는 단방향이 더 좋다고 판단하시는 듯 하다.  

#### 게시글 리스트를 불러올 때 각 글의 댓글수를 가져오는 법.

#### FetchType.Eager의 문제점:
가져오기를 해도 의미가 없어지는 경우가 많다. Ex) 댓글의 경우, 쓸데없이 게시글까지 가져와 버리는 경우가 있다.  
페이징 처리해서 떙겨오는 경우, 로그 인포 등으로 찍기 을때, 원래라면 댓글들만을 가져오던거에 더해서 투스트링으로 가져올 때 다시 보드를 조회한다.  

#### ToString의 무서운 점:
페이징 처리해서 떙겨오는 경우, 로그 인포 등으로 찍기 을때, 원래라면 댓글들만을 가져오던거에 더해서 투스트링으로 가져올 때 다시 보드를 조회한다.  


